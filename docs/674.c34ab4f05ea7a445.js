"use strict";(self.webpackChunkFresh_Cart=self.webpackChunkFresh_Cart||[]).push([[674],{3674:(W,l,o)=>{o.r(l),o.d(l,{WhishlistComponent:()=>Z});var r=o(6814),m=o(101),h=o(2425),p=o(1651),t=o(9212),d=o(1731);function g(s,e){1&s&&t._UZ(0,"i",21)}function u(s,e){if(1&s&&(t.TgZ(0,"li"),t.YNc(1,g,1,0,"i",20),t.qZA()),2&s){const i=e.$implicit,n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",i<=n.ratingsAverage)}}function f(s,e){1&s&&(t.TgZ(0,"li"),t._UZ(1,"i",22),t.qZA())}const x=s=>["/products",s],v=()=>[1,2,3,4,5];function C(s,e){if(1&s){const i=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span",7),t.NdJ("click",function(){const a=t.CHM(i).$implicit,_=t.oxw(2);return t.KtG(_.removeFromWhish(a._id))}),t._UZ(4,"i",8),t.qZA(),t.TgZ(5,"header",9),t._UZ(6,"img",10),t.TgZ(7,"h4",11),t._uU(8),t.qZA(),t.TgZ(9,"h3",12),t._uU(10),t.ALo(11,"cuttext"),t.qZA()(),t.TgZ(12,"footer",13)(13,"span",14),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"div",15)(17,"ul",16),t.YNc(18,u,2,1,"li",17)(19,f,2,0,"li",18),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.qZA()()()(),t.TgZ(22,"button",19),t.NdJ("click",function(){const a=t.CHM(i).$implicit,_=t.oxw(2);return t.KtG(_.addToCart(a._id))}),t._uU(23," + Add To Cart "),t.qZA()()()}if(2&s){const i=e.$implicit;t.xp6(5),t.Q6J("routerLink",t.VKq(15,x,i._id)),t.xp6(1),t.Q6J("src",i.imageCover,t.LSH)("alt",i.title),t.xp6(2),t.Oqu(i.category.name),t.xp6(2),t.Oqu(t.xi3(11,9,i.title,3)),t.xp6(4),t.hij(" ",t.xi3(15,12,i.price,"EGP")," "),t.xp6(4),t.Q6J("ngForOf",t.DdM(17,v)),t.xp6(1),t.Q6J("ngIf",i.ratingsAverage%1!=0),t.xp6(2),t.hij(" ",i.ratingsAverage," ")}}function T(s,e){if(1&s&&(t.TgZ(0,"section")(1,"div",2),t.YNc(2,C,24,18,"div",3),t.qZA()()),2&s){const i=t.oxw();t.xp6(2),t.Q6J("ngForOf",i.whishList)}}function E(s,e){1&s&&(t.TgZ(0,"h1",23),t._uU(1,"Your WhishList Is Empty..."),t.qZA())}let Z=(()=>{class s{constructor(i,n){this._EcomdataService=i,this._ToastrService=n,this.whishList=[]}ngOnInit(){this._EcomdataService.getWishlist().subscribe({next:i=>{"success"===i.status&&(console.log(i),this.whishList=i.data,this._EcomdataService.updateWhishNumberSignal(i.data.length))}})}addToCart(i){this._EcomdataService.addToCart(i)}removeFromWhish(i){this._EcomdataService.removeWishlist(i).subscribe({next:n=>{"success"===n.status&&(this._ToastrService.success(n.message,"",{positionClass:"toast-bottom-right"}),this.whishList=this.whishList.filter(c=>n.data.includes(c._id)),this._EcomdataService.updateWhishNumberSignal(this.whishList.length))}})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(d.J),t.Y36(h._W))};static#i=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-whishlist"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["whish",""],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-4","row-cols-xl-6","justify-content-center"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"product"],[1,"ptorcut-area","position-relative"],["role","button",1,"heart",3,"click"],[1,"fa-solid","fa-heart-crack"],["role","button",3,"routerLink"],["loading","lazy",1,"w-100",3,"src","alt"],[1,"h6","font-sm","text-main"],[1,"h6","small"],[1,"hstack","justify-content-between"],[1,"small"],[1,"d-flex","font-sm","align-items-center"],[1,"d-flex","mb-0","list-unstyled"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"add-btn","main-btn","w-100",3,"click"],["class","fas fa-star rating-color",4,"ngIf"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half","rating-color"],[1,"text-center","my-3","display-3"]],template:function(n,c){if(1&n&&t.YNc(0,T,3,1,"section",0)(1,E,2,0,"ng-template",null,1,t.W1O),2&n){const a=t.MAs(2);t.Q6J("ngIf",c.whishList.length)("ngIfElse",a)}},dependencies:[r.ez,r.sg,r.O5,r.H9,m.rH,p.r,h.Rh],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:99;font-size:40px;color:#0aad0a;opacity:0;transform:translateY(20px);transition:opacity 1s,transform 1s}"]})}return s})()}}]);