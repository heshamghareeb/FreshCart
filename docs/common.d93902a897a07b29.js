"use strict";(self.webpackChunkFresh_Cart=self.webpackChunkFresh_Cart||[]).push([[592],{1651:(h,_,i)=>{i.d(_,{r:()=>u});var n=i(9212);let u=(()=>{class o{transform(l,t){return l.split(" ",t).join(" ")}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275pipe=n.Yjl({name:"cuttext",type:o,pure:!0,standalone:!0})}return o})()},1285:(h,_,i)=>{i.d(_,{M:()=>o});var n=i(9212),u=i(1474);let o=(()=>{class c{constructor(t){this._HttpClient=t,this.baseUrl="https://ecommerce.routemisr.com/api/v1/"}getProducts(t=1){return this._HttpClient.get(this.baseUrl+`products?page=${t}`)}getCategories(){return this._HttpClient.get(this.baseUrl+"categories")}getCategoryDetails(t){return this._HttpClient.get(this.baseUrl+`categories/${t}`)}getProductDetails(t){return this._HttpClient.get(this.baseUrl+`products/${t}`)}static#t=this.\u0275fac=function(d){return new(d||c)(n.LFG(u.eN))};static#e=this.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},5830:(h,_,i)=>{i.d(_,{A:()=>x});var n=i(6814),u=i(101),o=i(2425),c=i(1651),l=i(2618),t=i(9212),d=i(2893),m=i(5491);function g(a,p){if(1&a){const r=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.removeFromWhish(e.product._id))}),t._UZ(1,"i",15),t.qZA()}}function f(a,p){if(1&a){const r=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.addToWhish(e.product._id))}),t._UZ(1,"i",16),t.qZA()}}function C(a,p){1&a&&t._UZ(0,"i",18)}function v(a,p){if(1&a&&(t.TgZ(0,"li"),t.YNc(1,C,1,0,"i",17),t.qZA()),2&a){const r=p.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",r<=s.product.ratingsAverage)}}function T(a,p){1&a&&(t.TgZ(0,"li"),t._UZ(1,"i",19),t.qZA())}const E=a=>["/productdetails",a],O=()=>[1,2,3,4,5];let x=(()=>{class a{constructor(r,s,e){this._CartService=r,this._EcomdataService=s,this._ToastrService=e,this.cutTextNum=0,this.wish=[]}ngOnInit(){}addToCart(r){this._CartService.addToCart(r).subscribe({next:s=>{"success"===s.status&&(this._ToastrService.success(s.message),this._CartService.updateCartNumberSignal(s.numOfCartItems))}})}addToWhish(r){this._EcomdataService.setWishlist(r).subscribe({next:s=>{"success"===s.status&&(this._ToastrService.success(s.message,"",{positionClass:"toast-bottom-right"}),this._EcomdataService.updateWishlistItem(s.data),this._EcomdataService.updateWhishNumberSignal(s.data.length),this.wish=this._EcomdataService.wishList.subscribe(e=>{e.length>0&&(this.wish=e)}))}})}removeFromWhish(r){this._EcomdataService.removeWishlist(r).subscribe({next:s=>{"success"===s.status&&(this._ToastrService.success(s.message,"",{positionClass:"toast-bottom-right"}),this._EcomdataService.updateWishlistItem(s.data),this._EcomdataService.updateWhishNumberSignal(s.data.length),this.wish=this._EcomdataService.wishList.subscribe(e=>{e.length>0&&(this.wish=e)}))}})}static#t=this.\u0275fac=function(s){return new(s||a)(t.Y36(d.N),t.Y36(m.J),t.Y36(o._W))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-card"]],inputs:{product:"product",cutTextNum:"cutTextNum",wish:"wish"},standalone:!0,features:[t.jDz],decls:25,vars:22,consts:[[1,"product"],[1,"ptorcut-area","position-relative"],["role","button","class","heart",3,"click",4,"ngIf"],["role","button",3,"routerLink"],["loading","lazy",1,"w-100",3,"src","alt"],["il8n","",1,"h6","font-sm","text-main"],[1,"h6","small"],[1,"hstack","justify-content-between"],[1,"small"],[1,"d-flex","font-sm","align-items-center"],[1,"d-flex","mb-0","list-unstyled"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"add-btn","main-btn","w-100",3,"click"],["role","button",1,"heart",3,"click"],[1,"fa-solid","fa-heart-crack"],[1,"fas","fa-heart"],["class","fas fa-star rating-color",4,"ngIf"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half","rating-color"]],template:function(s,e){1&s&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1),t.YNc(3,g,2,0,"span",2)(4,f,2,0,"span",2),t.TgZ(5,"header",3),t._UZ(6,"img",4),t.TgZ(7,"h4",5),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"h3",6),t._uU(11),t.ALo(12,"cuttext"),t.qZA()(),t.TgZ(13,"footer",7)(14,"span",8),t._uU(15),t.ALo(16,"currency"),t.qZA(),t.TgZ(17,"div",9)(18,"ul",10),t.YNc(19,v,2,1,"li",11)(20,T,2,0,"li",12),t.qZA(),t.TgZ(21,"span"),t._uU(22),t.qZA()()()(),t.TgZ(23,"button",13),t.NdJ("click",function(){return e.addToCart(e.product._id)}),t._uU(24," + Add To Cart "),t.qZA()()()),2&s&&(t.xp6(3),t.Q6J("ngIf",e.wish.includes(e.product._id)),t.xp6(1),t.Q6J("ngIf",!e.wish.includes(e.product._id)),t.xp6(1),t.Q6J("routerLink",t.VKq(19,E,e.product._id)),t.xp6(1),t.Q6J("src",e.product.imageCover,t.LSH)("alt",e.product.title),t.xp6(2),t.Oqu(t.lcZ(9,11,e.product.category.name)),t.xp6(3),t.Oqu(t.xi3(12,13,e.product.title,e.cutTextNum)),t.xp6(4),t.hij(" ",t.xi3(16,16,e.product.price,"EGP")," "),t.xp6(4),t.Q6J("ngForOf",t.DdM(21,O)),t.xp6(1),t.Q6J("ngIf",e.product.ratingsAverage%1!=0),t.xp6(2),t.hij(" ",e.product.ratingsAverage," "))},dependencies:[n.ez,n.sg,n.O5,n.H9,u.rH,c.r,o.Rh,l.aw,l.X$],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:99;font-size:40px;color:#0aad0a;opacity:0;transform:translateY(20px);transition:opacity 1s,transform 1s}"]})}return a})()}}]);