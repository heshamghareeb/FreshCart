"use strict";(self.webpackChunkFresh_Cart=self.webpackChunkFresh_Cart||[]).push([[49],{2893:(p,h,s)=>{s.d(h,{N:()=>_});var o=s(9212),l=s(5619),e=s(553),i=s(1474);let _=(()=>{class u{constructor(n){this._HttpClient=n,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new l.X(0),this.cartNumberSignal=(0,o.tdS)(0)}addToCart(n){return this._HttpClient.post(e.N.baseUrlData+"/cart",{productId:n})}getCartUser(){return this._HttpClient.get(e.N.baseUrlData+"/cart")}removeCartItem(n){return this._HttpClient.delete(this.baseUrl+`cart/${n}`)}updateCartCount(n,t){return this._HttpClient.put(this.baseUrl+`cart/${n}`,{count:t})}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkOut(n,t){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${n}?url=https://heshamghareeb.github.io/freshcart`,{shippingAddress:t})}updateCartNumberSignal(n){this.cartNumberSignal.update(()=>n)}static#t=this.\u0275fac=function(t){return new(t||u)(o.LFG(i.eN))};static#e=this.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},5491:(p,h,s)=>{s.d(h,{J:()=>u});var o=s(9212),l=s(5619),e=s(553),i=s(1474),_=s(2425);let u=(()=>{class d{constructor(t,a){this._HttpClient=t,this._ToastrService=a,this.cartNumberSignal=(0,o.tdS)(0),this.wishList=new l.X([]),this.whishNumberSignal=(0,o.tdS)(0),this.products=[]}getUserOrders(t){return this._HttpClient.get(e.N.baseUrlData+"/orders/user/"+t)}addToCart(t){this.sendToCart(t).subscribe({next:a=>{"success"===a.status&&(this._ToastrService.success(a.message),this.updateCartNumberSignal(a.numOfCartItems))}})}updateCartNumberSignal(t){this.cartNumberSignal.update(()=>t)}SetcheckOut(t,a){return this._HttpClient.post(e.N.baseUrlData+`/orders/checkout-session/${t}?url=${e.N.payUrl}`,a)}getProducts(t=1){return this._HttpClient.get(e.N.baseUrlData+`/products?page=${t}`)}getProductById(t){return this._HttpClient.get(e.N.baseUrlData+"/products/"+t)}getCategories(){return this._HttpClient.get(e.N.baseUrlData+"/categories")}getCategoriesById(t){return this._HttpClient.get(e.N.baseUrlData+"/categories/"+t)}getSubCategoriesToCat(t){return this._HttpClient.get(e.N.baseUrlData+`/categories/${t}/subcategories`)}sendToCart(t){return this._HttpClient.post(e.N.baseUrlData+"/cart",{productId:t})}getCartData(){return this._HttpClient.get(e.N.baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(e.N.baseUrlData+"/cart")}updatePoductCount(t,a){return this._HttpClient.put(e.N.baseUrlData+"/cart/"+t,{count:a})}deletePoductCart(t){return this._HttpClient.delete(e.N.baseUrlData+"/cart/"+t)}getBrands(t=1){return this._HttpClient.get(e.N.baseUrlData+`/brands?page=${t}`)}getBrandData(t){return this._HttpClient.get(e.N.baseUrlData+`/brands/${t}`)}setWishlist(t){return this._HttpClient.post(e.N.baseUrlData+"/wishlist",{productId:t})}removeWishlist(t){return this._HttpClient.delete(e.N.baseUrlData+`/wishlist/${t}`)}getWishlist(){return this._HttpClient.get(e.N.baseUrlData+"/wishlist")}updateWishlistItem(t){this.wishList.next(t)}updateWhishNumberSignal(t){this.whishNumberSignal.update(()=>t)}setAddresses(t){return this._HttpClient.post(e.N.baseUrlData+"/addresses",t)}getAddresses(){return this._HttpClient.get(e.N.baseUrlData+"/addresses")}removeAddresses(t){return this._HttpClient.delete(e.N.baseUrlData+`/addresses/${t}`)}static#t=this.\u0275fac=function(a){return new(a||d)(o.LFG(i.eN),o.LFG(_._W))};static#e=this.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},1049:(p,h,s)=>{s.r(h),s.d(h,{ProductsByComponent:()=>t});var o=s(6814),l=s(2425),e=s(5830),i=s(9212),_=s(101),u=s(5491),d=s(2893);function n(a,C){if(1&a&&i._UZ(0,"app-card",2),2&a){const r=C.$implicit,c=i.oxw();i.Q6J("cutTextNum",2)("product",r)("wish",c.whishList)}}let t=(()=>{class a{constructor(r,c,m){this._ActivatedRoute=r,this._EcomdataService=c,this._CartService=m,this.products=[],this.whishList=[]}ngOnInit(){if(this._EcomdataService.getProducts().subscribe({next:r=>{this._EcomdataService.products=r.data}}),this._EcomdataService.wishList.subscribe(r=>{r.length>0&&(this.whishList=r)}),this._ActivatedRoute.paramMap.subscribe({next:r=>{this._ActivatedRoute.url.subscribe(c=>{this.path=c[0].path}),this.filterId=r.get("id")}}),"brands"===this.path)for(const r of this._EcomdataService.products)r.brand._id===this.filterId&&this.products.push(r);else if("categorydetails"===this.path)for(const r of this._EcomdataService.products)r.category._id===this.filterId&&this.products.push(r)}addToCart(r){this._CartService.addToCart(r)}static#t=this.\u0275fac=function(c){return new(c||a)(i.Y36(_.gz),i.Y36(u.J),i.Y36(d.N))};static#e=this.\u0275cmp=i.Xpm({type:a,selectors:[["app-products-by"]],standalone:!0,features:[i.jDz],decls:3,vars:1,consts:[[1,"row","justify-content-center","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5","g-4"],["class","col",3,"cutTextNum","product","wish",4,"ngFor","ngForOf"],[1,"col",3,"cutTextNum","product","wish"]],template:function(c,m){1&c&&(i.TgZ(0,"section")(1,"div",0),i.YNc(2,n,1,3,"app-card",1),i.qZA()()),2&c&&(i.xp6(2),i.Q6J("ngForOf",m.products))},dependencies:[o.ez,o.sg,l.Rh,e.A]})}return a})()},553:(p,h,s)=>{s.d(h,{N:()=>o});const o={baseUrlAuth:"https://ecommerce.routemisr.com/api/v1/auth",baseUrlUser:"https://ecommerce.routemisr.com/api/v1",baseUrlData:"https://ecommerce.routemisr.com/api/v1",payUrl:"https://heshamghareeb.github.io/freshcart"}}}]);