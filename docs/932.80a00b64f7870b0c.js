"use strict";(self.webpackChunkFresh_Cart=self.webpackChunkFresh_Cart||[]).push([[932],{6666:(v,g,a)=>{a.r(g),a.d(g,{LoginComponent:()=>I});var _=a(6814),s=a(95),m=a(1120),n=a(9212),f=a(4768),c=a(2425);function h(o,i){1&o&&(n.TgZ(0,"p",19),n._uU(1," Email Is Required "),n.qZA())}function w(o,i){1&o&&(n.TgZ(0,"p",19),n._uU(1," Email Invalid Format "),n.qZA())}function Z(o,i){if(1&o&&(n.ynx(0),n.YNc(1,h,2,0,"p",18)(2,w,2,0,"p",18),n.BQk()),2&o){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.email.getError("required")),n.xp6(1),n.Q6J("ngIf",e.f.email.getError("email"))}}function L(o,i){1&o&&(n.TgZ(0,"p",19),n._uU(1," Password Is Required "),n.qZA())}function T(o,i){1&o&&(n.TgZ(0,"p",19),n._uU(1," Must be at least 6 chars "),n.qZA())}function b(o,i){if(1&o&&(n.ynx(0),n.YNc(1,L,2,0,"p",18)(2,T,2,0,"p",18),n.BQk()),2&o){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.password.getError("required")),n.xp6(1),n.Q6J("ngIf",e.f.password.getError("pattern"))}}function C(o,i){if(1&o&&(n.TgZ(0,"button",20)(1,"span"),n._uU(2,"Login"),n.qZA()()),2&o){const e=n.oxw();n.Q6J("disabled",e.loginForm.invalid)}}function E(o,i){1&o&&(n.TgZ(0,"button",21)(1,"span"),n._UZ(2,"i",22),n.qZA()())}const u=o=>({"d-none":o});let I=(()=>{class o{constructor(e,r,t,p){this._AuthService=e,this._fb=r,this._Router=t,this.toastr=p,this.passwordShow=!1,this.isLoading=!1}ngOnInit(){this.loginForm=this._fb.group({email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required,s.kI.pattern(/^\w{6,}$/)]]})}get f(){return this.loginForm.controls}handleLogin(){this.isLoading=!0,this.loginForm.valid&&this._AuthService.setLogin(this.loginForm.value).subscribe({next:e=>{"success"===e.message&&(this.isLoading=!1,localStorage.setItem("_token",e.token),this._AuthService.saveUser(),this._Router.navigate(["/home"]))},error:e=>{this.isLoading=!1,this.toastr.error(e.error.message,"Error",{progressBar:!0})}})}static#n=this.\u0275fac=function(r){return new(r||o)(n.Y36(f.e),n.Y36(s.qu),n.Y36(m.F0),n.Y36(c._W))};static#o=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:25,vars:11,consts:[[1,"bg-main-light","rounded","shadow","p-3"],[1,"display-4","text-center"],[1,"vstack","gap-3","w-75","mx-auto",3,"formGroup","ngSubmit"],[1,"form-item"],["for","email"],["formControlName","email","id","email","type","email","placeholder","Your Email....",1,"form-control"],[4,"ngIf"],["for","password"],[1,"position-relative"],["formControlName","password","id","password","type","password","placeholder","Your Password....",1,"form-control"],["pass",""],["role","button",1,"position-absolute","top-50","end-0","translate-middle-y","me-2",3,"ngClass","click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[1,"hstack","justify-content-between"],["type","submit","class","main-btn",3,"disabled",4,"ngIf"],["type","button","disabled","","class","main-btn me-auto",4,"ngIf"],["role","button","routerLink","/forgotlogin",1,"link-primary"],["class","alert alert-danger w-50 mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","w-50","mx-auto","p-1","mb-0"],["type","submit",1,"main-btn",3,"disabled"],["type","button","disabled","",1,"main-btn","me-auto"],[1,"fas","fa-spinner","fa-spin"]],template:function(r,t){if(1&r){const p=n.EpF();n.TgZ(0,"section",0)(1,"h1",1),n._uU(2,"Login Now"),n.qZA(),n.TgZ(3,"form",2),n.NdJ("ngSubmit",function(){return t.handleLogin()}),n.TgZ(4,"div",3)(5,"label",4),n._uU(6,"Email:"),n.qZA(),n._UZ(7,"input",5),n.YNc(8,Z,3,2,"ng-container",6),n.qZA(),n.TgZ(9,"div",3)(10,"label",7),n._uU(11,"Password:"),n.qZA(),n.TgZ(12,"div",8),n._UZ(13,"input",9,10),n.TgZ(15,"span",11),n.NdJ("click",function(){n.CHM(p);const l=n.MAs(14);return t.passwordShow=!0,n.KtG(l.type=1==t.passwordShow?"text":"password")}),n._UZ(16,"i",12),n.qZA(),n.TgZ(17,"span",11),n.NdJ("click",function(){n.CHM(p);const l=n.MAs(14);return t.passwordShow=!1,n.KtG(l.type=0==t.passwordShow?"password":"text")}),n._UZ(18,"i",13),n.qZA()(),n.YNc(19,b,3,2,"ng-container",6),n.qZA(),n.TgZ(20,"div",14),n.YNc(21,C,3,1,"button",15)(22,E,3,0,"button",16),n.TgZ(23,"a",17),n._uU(24,"Forgot Password"),n.qZA()()()()}2&r&&(n.xp6(3),n.Q6J("formGroup",t.loginForm),n.xp6(5),n.Q6J("ngIf",t.f.email.errors&&(t.f.email.value.length||t.f.email.touched)),n.xp6(7),n.Q6J("ngClass",n.VKq(7,u,t.passwordShow)),n.xp6(2),n.Q6J("ngClass",n.VKq(9,u,!t.passwordShow)),n.xp6(2),n.Q6J("ngIf",t.f.password.errors&&(t.f.password.value.length||t.f.password.touched)),n.xp6(2),n.Q6J("ngIf",!t.isLoading),n.xp6(1),n.Q6J("ngIf",t.isLoading))},dependencies:[_.ez,_.mk,_.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,m.rH]})}return o})()}}]);