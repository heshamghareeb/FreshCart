"use strict";(self.webpackChunkFresh_Cart=self.webpackChunkFresh_Cart||[]).push([[749],{749:(J,c,d)=>{d.r(c),d.d(c,{UpdatepassComponent:()=>I});var l=d(6814),o=d(95),s=d(9212),f=d(4768),m=d(1120);function w(t,n){1&t&&(s.TgZ(0,"p",22),s._uU(1," Curent Password Is Required "),s.qZA())}function g(t,n){1&t&&(s.TgZ(0,"p",22),s._uU(1," Must be at least 6 chars "),s.qZA())}function h(t,n){if(1&t&&(s.ynx(0),s.YNc(1,w,2,0,"p",21)(2,g,2,0,"p",21),s.BQk()),2&t){const r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.f.currentPassword.getError("required")),s.xp6(1),s.Q6J("ngIf",r.f.currentPassword.getError("pattern"))}}function P(t,n){1&t&&(s.TgZ(0,"p",22),s._uU(1," Password Is Required "),s.qZA())}function Z(t,n){1&t&&(s.TgZ(0,"p",22),s._uU(1," Must be at least 6 chars "),s.qZA())}function U(t,n){if(1&t&&(s.ynx(0),s.YNc(1,P,2,0,"p",21)(2,Z,2,0,"p",21),s.BQk()),2&t){const r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.f.password.getError("required")),s.xp6(1),s.Q6J("ngIf",r.f.password.getError("pattern"))}}function C(t,n){1&t&&(s.TgZ(0,"p",22),s._uU(1," RePassword Is Required "),s.qZA())}function T(t,n){1&t&&(s.TgZ(0,"p",22),s._uU(1," RePassword confirmation is incorrect "),s.qZA())}function A(t,n){if(1&t&&(s.ynx(0),s.YNc(1,C,2,0,"p",21)(2,T,2,0,"p",21),s.BQk()),2&t){const r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.f.rePassword.getError("required")),s.xp6(1),s.Q6J("ngIf",r.f.rePassword.getError("mismatch"))}}function b(t,n){if(1&t&&(s.TgZ(0,"button",23)(1,"span"),s._uU(2,"Change"),s.qZA()()),2&t){const r=s.oxw();s.Q6J("disabled",r.updateForm.invalid)}}function q(t,n){1&t&&(s.TgZ(0,"button",24)(1,"span"),s._UZ(2,"i",25),s.qZA()())}function v(t,n){if(1&t&&(s.TgZ(0,"p",26),s._uU(1),s.qZA()),2&t){const r=s.oxw();s.xp6(1),s.hij(" ",r.errMsg," ")}}const i=t=>({"d-none":t});let I=(()=>{class t{constructor(r,p,e){this._AuthService=r,this._fb=p,this._Router=e,this.passwordShow=!1,this.curentPasswordShow=!1,this.rePasswordShow=!1,this.errMsg="",this.isLoading=!1}ngOnInit(){this.updateForm=this._fb.group({currentPassword:["",[o.kI.required,o.kI.pattern(/^\w{6,}$/)]],password:["",[o.kI.required,o.kI.pattern(/^\w{6,}$/)]],rePassword:[""]},{validator:[this.checkPassword]})}checkPassword(r){const p=r.get("password"),e=r.get("rePassword");""===e?.value?e?.setErrors({required:!0}):e?.value!==p?.value&&e?.setErrors({mismatch:!0})}get f(){return this.updateForm.controls}handleUpdate(){this.isLoading=!0,this.updateForm.valid&&this._AuthService.setChangePassword(this.updateForm.value).subscribe({next:r=>{"success"===r.message&&(this.isLoading=!1,console.log(r),localStorage.setItem("_token",r.token),this.updateForm.reset(),this.errMsg=r.message)},error:r=>{this.isLoading=!1,this.errMsg=r.error.message}})}static#s=this.\u0275fac=function(p){return new(p||t)(s.Y36(f.e),s.Y36(o.qu),s.Y36(m.F0))};static#e=this.\u0275cmp=s.Xpm({type:t,selectors:[["app-updatepass"]],standalone:!0,features:[s.jDz],decls:40,vars:25,consts:[[1,"bg-main-light","w-75","mx-auto","rounded","shadow","p-3"],[1,"h4","text-center"],[1,"vstack","gap-3","w-75","mx-auto",3,"formGroup","ngSubmit"],[1,"form-item"],["for","currentPassword"],[1,"position-relative"],["formControlName","currentPassword","id","currentPassword","type","password","placeholder","Your Current Password....",1,"form-control"],["cupass",""],["role","button",1,"position-absolute","top-50","end-0","translate-middle-y","me-2",3,"ngClass","click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[4,"ngIf"],["for","password"],["formControlName","password","id","password","type","password","placeholder","Your Password....",1,"form-control"],["pass",""],["for","rePassword"],["formControlName","rePassword","id","rePassword","type","Password","placeholder","Confirm Password....",1,"form-control"],["repass",""],["type","submit","class","main-btn ms-auto",3,"disabled",4,"ngIf"],["type","button","disabled","","class","main-btn ms-auto",4,"ngIf"],["class","alert alert-danger text-center w-50 mx-auto mb-0 p-1 mt-3",4,"ngIf"],["class","alert alert-danger w-50 mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","w-50","mx-auto","p-1","mb-0"],["type","submit",1,"main-btn","ms-auto",3,"disabled"],["type","button","disabled","",1,"main-btn","ms-auto"],[1,"fas","fa-spinner","fa-spin"],[1,"alert","alert-danger","text-center","w-50","mx-auto","mb-0","p-1","mt-3"]],template:function(p,e){if(1&p){const u=s.EpF();s.TgZ(0,"section",0)(1,"h1",1),s._uU(2,"Update User Password"),s.qZA(),s.TgZ(3,"form",2),s.NdJ("ngSubmit",function(){return e.handleUpdate()}),s.TgZ(4,"div",3)(5,"label",4),s._uU(6,"Current Password:"),s.qZA(),s.TgZ(7,"div",5),s._UZ(8,"input",6,7),s.TgZ(10,"span",8),s.NdJ("click",function(){s.CHM(u);const a=s.MAs(9);return e.curentPasswordShow=!0,s.KtG(a.type=1==e.curentPasswordShow?"text":"password")}),s._UZ(11,"i",9),s.qZA(),s.TgZ(12,"span",8),s.NdJ("click",function(){s.CHM(u);const a=s.MAs(9);return e.curentPasswordShow=!1,s.KtG(a.type=0==e.curentPasswordShow?"password":"text")}),s._UZ(13,"i",10),s.qZA()(),s.YNc(14,h,3,2,"ng-container",11),s.qZA(),s.TgZ(15,"div",3)(16,"label",12),s._uU(17,"Password:"),s.qZA(),s.TgZ(18,"div",5),s._UZ(19,"input",13,14),s.TgZ(21,"span",8),s.NdJ("click",function(){s.CHM(u);const a=s.MAs(20);return e.passwordShow=!0,s.KtG(a.type=1==e.passwordShow?"text":"password")}),s._UZ(22,"i",9),s.qZA(),s.TgZ(23,"span",8),s.NdJ("click",function(){s.CHM(u);const a=s.MAs(20);return e.passwordShow=!1,s.KtG(a.type=0==e.passwordShow?"password":"text")}),s._UZ(24,"i",10),s.qZA()(),s.YNc(25,U,3,2,"ng-container",11),s.qZA(),s.TgZ(26,"div",3)(27,"label",15),s._uU(28,"RePassword:"),s.qZA(),s.TgZ(29,"div",5),s._UZ(30,"input",16,17),s.TgZ(32,"span",8),s.NdJ("click",function(){s.CHM(u);const a=s.MAs(31);return e.rePasswordShow=!0,s.KtG(a.type=1==e.rePasswordShow?"text":"password")}),s._UZ(33,"i",9),s.qZA(),s.TgZ(34,"span",8),s.NdJ("click",function(){s.CHM(u);const a=s.MAs(31);return e.rePasswordShow=!1,s.KtG(a.type=0==e.rePasswordShow?"password":"text")}),s._UZ(35,"i",10),s.qZA()(),s.YNc(36,A,3,2,"ng-container",11),s.qZA(),s.YNc(37,b,3,1,"button",18)(38,q,3,0,"button",19)(39,v,2,1,"p",20),s.qZA()()}2&p&&(s.xp6(3),s.Q6J("formGroup",e.updateForm),s.xp6(7),s.Q6J("ngClass",s.VKq(13,i,e.curentPasswordShow)),s.xp6(2),s.Q6J("ngClass",s.VKq(15,i,!e.curentPasswordShow)),s.xp6(2),s.Q6J("ngIf",e.f.currentPassword.errors&&((null==e.f.currentPassword.value?null:e.f.currentPassword.value.length)||e.f.currentPassword.touched)),s.xp6(7),s.Q6J("ngClass",s.VKq(17,i,e.passwordShow)),s.xp6(2),s.Q6J("ngClass",s.VKq(19,i,!e.passwordShow)),s.xp6(2),s.Q6J("ngIf",e.f.password.errors&&((null==e.f.password.value?null:e.f.password.value.length)||e.f.password.touched)),s.xp6(7),s.Q6J("ngClass",s.VKq(21,i,e.rePasswordShow)),s.xp6(2),s.Q6J("ngClass",s.VKq(23,i,!e.rePasswordShow)),s.xp6(2),s.Q6J("ngIf",e.f.rePassword.errors&&((null==e.f.rePassword.value?null:e.f.rePassword.value.length)||e.f.rePassword.touched)),s.xp6(1),s.Q6J("ngIf",!e.isLoading),s.xp6(1),s.Q6J("ngIf",e.isLoading),s.xp6(1),s.Q6J("ngIf",e.errMsg))},dependencies:[l.ez,l.mk,l.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return t})()}}]);