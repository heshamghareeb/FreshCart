"use strict";(self.webpackChunkFresh_Cart=self.webpackChunkFresh_Cart||[]).push([[592],{1651:(f,C,s)=>{s.d(C,{r:()=>m});var e=s(9212);let m=(()=>{class r{transform(t,u){return t.split(" ",u).join(" ")}static#t=this.\u0275fac=function(u){return new(u||r)};static#e=this.\u0275pipe=e.Yjl({name:"cuttext",type:r,pure:!0,standalone:!0})}return r})()},4768:(f,C,s)=>{s.d(C,{e:()=>o});var e=s(8784),m=s(5619);const r_baseUrlAuth="https://ecommerce.routemisr.com/api/v1/auth";var p=s(9212),t=s(1474),u=s(1120);let o=(()=>{class _{constructor(n,i){this._HttpClient=n,this._Router=i,this.userData=new m.X(null),this.saveUser()}saveUser(){const n=localStorage.getItem("_token");if(n)try{const i=(0,e.o)(n);i.name&&this.userData.next(i)}catch(i){i.message.includes("Invalid token")&&(localStorage.removeItem("_token"),this._Router.navigate(["/login"]))}}setRegister(n){return this._HttpClient.post(r_baseUrlAuth+"/signup",n)}setLogin(n){return this._HttpClient.post(r_baseUrlAuth+"/signin",n)}setForgotPassword(n){return this._HttpClient.post(r_baseUrlAuth+"/forgotPasswords",n)}setVerifyResetCode(n){return this._HttpClient.post(r_baseUrlAuth+"/verifyResetCode",n)}resetPassword(n){return this._HttpClient.put(r_baseUrlAuth+"/resetPassword",n)}setChangePassword(n){return this._HttpClient.put("https://ecommerce.routemisr.com/api/v1/users/changeMyPassword",n)}static#t=this.\u0275fac=function(i){return new(i||_)(p.LFG(t.eN),p.LFG(u.F0))};static#e=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},2893:(f,C,s)=>{s.d(C,{N:()=>p});var e=s(5619),m=s(9212),r=s(1474);let p=(()=>{class t{constructor(o){this._HttpClient=o,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new e.X(0)}addToCart(o){return this._HttpClient.post(this.baseUrl+"cart",{productId:o})}getCartUser(){return this._HttpClient.get(this.baseUrl+"cart")}removeCartItem(o){return this._HttpClient.delete(this.baseUrl+`cart/${o}`)}updateCartCount(o,_){return this._HttpClient.put(this.baseUrl+`cart/${o}`,{count:_})}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkOut(o,_){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${o}?url=https://github.com/heshamghareeb/freshcart`,{shippingAddress:_})}static#t=this.\u0275fac=function(_){return new(_||t)(m.LFG(r.eN))};static#e=this.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},1731:(f,C,s)=>{s.d(C,{J:()=>u});var e=s(9212),m=s(5619);const r_baseUrlData="https://ecommerce.routemisr.com/api/v1";var p=s(1474),t=s(2425);let u=(()=>{class o{constructor(a,n){this._HttpClient=a,this._ToastrService=n,this.cartNumberSignal=(0,e.tdS)(0),this.whishNumberSignal=(0,e.tdS)(0),this.whishListSignal=(0,e.tdS)([]),this.whishList=new m.X([]),this.products=[]}updateWhishSignal(a){this.whishListSignal.update(()=>a)}updateWhishNumberSignal(a){this.whishNumberSignal.update(()=>a)}updateCartNumberSignal(a){this.cartNumberSignal.update(()=>a)}getUserOrders(a){return this._HttpClient.get(r_baseUrlData+"/orders/user/"+a)}addToCart(a){this.sendToCart(a).subscribe({next:n=>{"success"===n.status&&(this._ToastrService.success(n.message),this.updateCartNumberSignal(n.numOfCartItems))}})}SetcheckOut(a,n){return this._HttpClient.post(r_baseUrlData+`/orders/checkout-session/${a}?url=https://ahmed-menisy.github.io/FreshCart`,n)}getProducts(a=1){return this._HttpClient.get(r_baseUrlData+`/products?page=${a}`)}getProductById(a){return this._HttpClient.get(r_baseUrlData+"/products/"+a)}getCategories(){return this._HttpClient.get(r_baseUrlData+"/categories")}getCategoriesById(a){return this._HttpClient.get(r_baseUrlData+"/categories/"+a)}getSubCategoriesToCat(a){return this._HttpClient.get(r_baseUrlData+`/categories/${a}/subcategories`)}sendToCart(a){return this._HttpClient.post(r_baseUrlData+"/cart",{productId:a})}getCartData(){return this._HttpClient.get(r_baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(r_baseUrlData+"/cart")}updatePoductCount(a,n){return this._HttpClient.put(r_baseUrlData+"/cart/"+a,{count:n})}deletePoductCart(a){return this._HttpClient.delete(r_baseUrlData+"/cart/"+a)}getBrands(a=1){return this._HttpClient.get(r_baseUrlData+`/brands?page=${a}`)}getBrandData(a){return this._HttpClient.get(r_baseUrlData+`/brands/${a}`)}setWishlist(a){return this._HttpClient.post(r_baseUrlData+"/wishlist",{productId:a})}removeWishlist(a){return this._HttpClient.delete(r_baseUrlData+`/wishlist/${a}`)}getWishlist(){return this._HttpClient.get(r_baseUrlData+"/wishlist")}setAddresses(a){return this._HttpClient.post(r_baseUrlData+"/addresses",a)}getAddresses(){return this._HttpClient.get(r_baseUrlData+"/addresses")}removeAddresses(a){return this._HttpClient.delete(r_baseUrlData+`/addresses/${a}`)}static#t=this.\u0275fac=function(n){return new(n||o)(e.LFG(p.eN),e.LFG(t._W))};static#e=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},1285:(f,C,s)=>{s.d(C,{M:()=>r});var e=s(9212),m=s(1474);let r=(()=>{class p{constructor(u){this._HttpClient=u,this.baseUrl="https://ecommerce.routemisr.com/api/v1/"}getProducts(u=1){return this._HttpClient.get(this.baseUrl+`products?page=${u}`)}getCategories(){return this._HttpClient.get(this.baseUrl+"categories")}getCategoryDetails(u){return this._HttpClient.get(this.baseUrl+`categories/${u}`)}getProductDetails(u){return this._HttpClient.get(this.baseUrl+`products/${u}`)}static#t=this.\u0275fac=function(o){return new(o||p)(e.LFG(m.eN))};static#e=this.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},5830:(f,C,s)=>{s.d(C,{A:()=>b});var e=s(6814),m=s(1120),r=s(2425),p=s(1651),t=s(9212),u=s(1731);function o(d,U){if(1&d){const g=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(){t.CHM(g);const c=t.oxw();return t.KtG(c.addToWhish(c.product._id))}),t._UZ(1,"i",15),t.qZA()}}function _(d,U){if(1&d){const g=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(){t.CHM(g);const c=t.oxw();return t.KtG(c.removeFromWhish(c.product._id))}),t._UZ(1,"i",16),t.qZA()}}function a(d,U){1&d&&t._UZ(0,"i",18)}function n(d,U){if(1&d&&(t.TgZ(0,"li"),t.YNc(1,a,1,0,"i",17),t.qZA()),2&d){const g=U.$implicit,h=t.oxw();t.xp6(1),t.Q6J("ngIf",g<=h.product.ratingsAverage)}}function i(d,U){1&d&&(t.TgZ(0,"li"),t._UZ(1,"i",19),t.qZA())}const l=d=>["/productdetails",d],v=()=>[1,2,3,4,5];let b=(()=>{class d{constructor(g,h,c){this._EcomdataService=g,this._ToastrService=h,this._ChangeDetectorRef=c,this.cutTextNum=0,this.whish=[]}addToCart(g){this._EcomdataService.addToCart(g)}addToWhish(g){this._EcomdataService.setWishlist(g).subscribe({next:h=>{"success"===h.status&&(this._ToastrService.success(h.message,"",{positionClass:"toast-bottom-right"}),this._EcomdataService.updateWhishSignal(h.data),this._EcomdataService.updateWhishNumberSignal(h.data.length),this.whish=this._EcomdataService.whishListSignal())}})}removeFromWhish(g){this._EcomdataService.removeWishlist(g).subscribe({next:h=>{"success"===h.status&&(this._ToastrService.success(h.message,"",{positionClass:"toast-bottom-right"}),this._EcomdataService.updateWhishSignal(h.data),this._EcomdataService.updateWhishNumberSignal(h.data.length),this.whish=this._EcomdataService.whishListSignal())}})}static#t=this.\u0275fac=function(h){return new(h||d)(t.Y36(u.J),t.Y36(r._W),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-card"]],inputs:{product:"product",cutTextNum:"cutTextNum",whish:"whish"},standalone:!0,features:[t.jDz],decls:24,vars:20,consts:[[1,"product"],[1,"ptorcut-area","position-relative"],["role","button","class","heart",3,"click",4,"ngIf"],["role","button",3,"routerLink"],["loading","lazy",1,"w-100",3,"src","alt"],[1,"h6","font-sm","text-main"],[1,"h6","small"],[1,"hstack","justify-content-between"],[1,"small"],[1,"d-flex","font-sm","align-items-center"],[1,"d-flex","mb-0","list-unstyled"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"add-btn","main-btn","w-100",3,"click"],["role","button",1,"heart",3,"click"],[1,"fas","fa-heart"],[1,"fa-solid","fa-heart-crack"],["class","fas fa-star rating-color",4,"ngIf"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half","rating-color"]],template:function(h,c){1&h&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1),t.YNc(3,o,2,0,"span",2)(4,_,2,0,"span",2),t.TgZ(5,"header",3),t._UZ(6,"img",4),t.TgZ(7,"h4",5),t._uU(8),t.qZA(),t.TgZ(9,"h3",6),t._uU(10),t.ALo(11,"cuttext"),t.qZA()(),t.TgZ(12,"footer",7)(13,"span",8),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"div",9)(17,"ul",10),t.YNc(18,n,2,1,"li",11)(19,i,2,0,"li",12),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.qZA()()()(),t.TgZ(22,"button",13),t.NdJ("click",function(){return c.addToCart(c.product._id)}),t._uU(23," + Add To Cart "),t.qZA()()()),2&h&&(t.xp6(3),t.Q6J("ngIf",!c.whish.includes(c.product._id)),t.xp6(1),t.Q6J("ngIf",c.whish.includes(c.product._id)),t.xp6(1),t.Q6J("routerLink",t.VKq(17,l,c.product._id)),t.xp6(1),t.Q6J("src",c.product.imageCover,t.LSH)("alt",c.product.title),t.xp6(2),t.Oqu(c.product.category.name),t.xp6(2),t.Oqu(t.xi3(11,11,c.product.title,c.cutTextNum)),t.xp6(4),t.hij(" ",t.xi3(15,14,c.product.price,"EGP")," "),t.xp6(4),t.Q6J("ngForOf",t.DdM(19,v)),t.xp6(1),t.Q6J("ngIf",c.product.ratingsAverage%1!=0),t.xp6(2),t.hij(" ",c.product.ratingsAverage," "))},dependencies:[e.ez,e.sg,e.O5,e.H9,m.rH,p.r,r.Rh],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:99;font-size:40px;color:#0aad0a;opacity:0;transform:translateY(20px);transition:opacity 1s,transform 1s}"]})}return d})()},953:(f,C,s)=>{s.d(C,{S:()=>_});var e=s(9212),m=s(6814),r=s(1120),p=s(4768),t=s(1731);const u=["navbar"];function o(a,n){if(1&a&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",i.whishItemNumberS," ")}}let _=(()=>{class a{constructor(i,l,v,b){this._AuthService=i,this._Router=l,this._Renderer2=v,this._EcomdataService=b,this.whishItemNumberS=0,this.cartItemNumberS=0,this.userName="",(0,e.cEC)(()=>{this.whishItemNumberS=this._EcomdataService.whishNumberSignal()}),(0,e.cEC)(()=>{this.cartItemNumberS=this._EcomdataService.cartNumberSignal()})}ngOnInit(){this._AuthService.userData.subscribe({next:i=>{this.userName=null!==i&&i.name?i?.name?.slice(0,1).toUpperCase():"U"}}),this._Router.url.includes("cart")||this._EcomdataService.getCartData().subscribe({next:i=>{"success"===i.status&&(this._EcomdataService.updateCartNumberSignal(i.numOfCartItems),this.cartItemNumberS=this._EcomdataService.cartNumberSignal())},error:i=>{console.log("Error Cart Nav",i.error.message)}}),this._Router.url.includes("whishlist")||this._EcomdataService.getWishlist().subscribe({next:i=>{if("success"===i.status){const l=i.data.map(v=>v._id);this._EcomdataService.whishList.next(l),this._EcomdataService.updateWhishNumberSignal(i.data.length),this._EcomdataService.updateWhishSignal(l),this.whishItemNumberS=this._EcomdataService.whishNumberSignal()}}})}onScroll(){scrollY>200?(this._Renderer2.addClass(this.navbar.nativeElement,"px-5"),this._Renderer2.addClass(this.navbar.nativeElement,"py-3")):(this._Renderer2.removeClass(this.navbar.nativeElement,"px-5"),this._Renderer2.removeClass(this.navbar.nativeElement,"py-3"))}onClick(i){const l=document.querySelector(".navbar-collapse");l&&!l.contains(i.target)&&(console.log(!l.contains(i.target)+" : event.target"),this._Renderer2.removeClass(l,"show"))}logOut(){localStorage.removeItem("_token"),this._AuthService.userData.next(null),this._Router.navigate(["/login"])}static#t=this.\u0275fac=function(l){return new(l||a)(e.Y36(p.e),e.Y36(r.F0),e.Y36(e.Qsj),e.Y36(t.J))};static#e=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-navbar"]],viewQuery:function(l,v){if(1&l&&e.Gf(u,5),2&l){let b;e.iGM(b=e.CRH())&&(v.navbar=b.first)}},hostBindings:function(l,v){1&l&&e.NdJ("scroll",function(){return v.onScroll()},!1,e.Jf7)("click",function(d){return v.onClick(d)},!1,e.evT)},standalone:!0,features:[e.jDz],decls:39,vars:2,consts:[[1,"navbar","shadow-sm","navbar-expand-lg","fixed-top","navbar-light","bg-light"],["navbar",""],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","./assets/images/freshcart-logo.svg","alt","freshCart"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsibleNavId","aria-controls","collapsibleNavId","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-lg-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mt-2","mt-lg-0"],[1,"nav-item"],["routerLinkActive","active-link","routerLink","/home",1,"nav-link"],["routerLinkActive","active-link","routerLink","/products",1,"nav-link"],["routerLinkActive","active-link","routerLink","/brands",1,"nav-link"],["routerLinkActive","active-link","routerLink","/categories",1,"nav-link"],[1,"navbar-nav","ms-auto","mt-2","mt-lg-0"],[1,"nav-item","me-3","hstack"],["routerLink","/whishlist",1,"text-main","number-item"],[1,"fas","fa-heart","fa-2x"],["class","text-white",4,"ngIf"],["routerLink","/cart",1,"nav-link","position-relative"],[1,"fas","fa-cart-shopping","fa-2x","text-main"],[1,"badge","bg-info","position-absolute","top-0","end-0"],[1,"nav-item","d-flex","align-items-center","gap-3","me-4"],["href","https://www.facebook.com/HxBoss","target","_blank",1,"text-reset",2,"color","#4267B2 !important"],[1,"fab","fa-facebook","h4"],["target","_blank","href","https://api.whatsapp.com/send?phone=01119244463",1,"text-reset"],[1,"fab","fa-whatsapp","text-main","h4"],["role","button",1,"nav-link","h5",3,"click"],[1,"text-white"]],template:function(l,v){1&l&&(e.TgZ(0,"nav",0,1)(2,"div",2)(3,"a",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"button",5),e._UZ(6,"span",6),e.qZA(),e.TgZ(7,"div",7)(8,"ul",8)(9,"li",9)(10,"a",10),e._uU(11,"Home"),e.qZA()(),e.TgZ(12,"li",9)(13,"a",11),e._uU(14,"Products"),e.qZA()(),e.TgZ(15,"li",9)(16,"a",12),e._uU(17,"Brands"),e.qZA()(),e.TgZ(18,"li",9)(19,"a",13),e._uU(20,"Categories"),e.qZA()()(),e.TgZ(21,"ul",14)(22,"li",15)(23,"a",16),e._UZ(24,"i",17),e.YNc(25,o,2,1,"span",18),e.qZA()(),e.TgZ(26,"li",15)(27,"a",19),e._UZ(28,"i",20),e.TgZ(29,"span",21),e._uU(30),e.qZA()()(),e.TgZ(31,"li",22)(32,"a",23),e._UZ(33,"i",24),e.qZA(),e.TgZ(34,"a",25),e._UZ(35,"i",26),e.qZA()(),e.TgZ(36,"li",9)(37,"span",27),e.NdJ("click",function(){return v.logOut()}),e._uU(38,"SignOut"),e.qZA()()()()()()),2&l&&(e.xp6(25),e.Q6J("ngIf",v.whishItemNumberS),e.xp6(5),e.hij(" ",v.cartItemNumberS," "))},dependencies:[m.ez,m.O5,r.rH,r.Od],styles:['.navbar[_ngcontent-%COMP%]{transition:padding 1s}.number-item[_ngcontent-%COMP%]{position:relative}.number-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;bottom:18%;left:36%;color:#343a40;z-index:10;font-weight:900}.dropdown-toggle[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #0aad0a;border-radius:50%;width:35px;height:35px;display:inline-block;padding:0;font-size:15px;position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:0;vertical-align:0;content:"";border-top:.5em solid #0aad0a;border-right:.5em solid transparent;border-left:.5em solid transparent;position:absolute;top:100%;left:50%;transform:translate(-50%);-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%)}.dropdown-item[_ngcontent-%COMP%]:focus, .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#055d0a!important;color:#fff!important}.dropdown-item[_ngcontent-%COMP%]{transition:1s!important;padding:4px!important;-webkit-transition:1s!important;-moz-transition:1s!important;-ms-transition:1s!important;-o-transition:1s!important}.dropdown-menu[_ngcontent-%COMP%]{padding:3px!important;text-align:center}.dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{left:-124%!important}']})}return a})()}}]);