"use strict";(self.webpackChunkFresh_Cart=self.webpackChunkFresh_Cart||[]).push([[674],{2893:(v,_,r)=>{r.d(_,{N:()=>g});var o=r(9212),m=r(5619),s=r(553),p=r(1474);let g=(()=>{class t{constructor(c){this._HttpClient=c,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new m.X(0),this.cartNumberSignal=(0,o.tdS)(0)}addToCart(c){return this._HttpClient.post(s.N.baseUrlData+"/cart",{productId:c})}getCartUser(){return this._HttpClient.get(s.N.baseUrlData+"/cart")}removeCartItem(c){return this._HttpClient.delete(this.baseUrl+`cart/${c}`)}updateCartCount(c,e){return this._HttpClient.put(this.baseUrl+`cart/${c}`,{count:e})}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkOut(c,e){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${c}?url=https://heshamghareeb.github.io/freshcart`,{shippingAddress:e})}updateCartNumberSignal(c){this.cartNumberSignal.update(()=>c)}static#t=this.\u0275fac=function(e){return new(e||t)(o.LFG(p.eN))};static#e=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},5491:(v,_,r)=>{r.d(_,{J:()=>t});var o=r(9212),m=r(5619),s=r(553),p=r(1474),g=r(2425);let t=(()=>{class h{constructor(e,l){this._HttpClient=e,this._ToastrService=l,this.cartNumberSignal=(0,o.tdS)(0),this.wishList=new m.X([]),this.whishNumberSignal=(0,o.tdS)(0),this.products=[]}getUserOrders(e){return this._HttpClient.get(s.N.baseUrlData+"/orders/user/"+e)}addToCart(e){this.sendToCart(e).subscribe({next:l=>{"success"===l.status&&(this._ToastrService.success(l.message),this.updateCartNumberSignal(l.numOfCartItems))}})}updateCartNumberSignal(e){this.cartNumberSignal.update(()=>e)}SetcheckOut(e,l){return this._HttpClient.post(s.N.baseUrlData+`/orders/checkout-session/${e}?url=${s.N.payUrl}`,l)}getProducts(e=1){return this._HttpClient.get(s.N.baseUrlData+`/products?page=${e}`)}getProductById(e){return this._HttpClient.get(s.N.baseUrlData+"/products/"+e)}getCategories(){return this._HttpClient.get(s.N.baseUrlData+"/categories")}getCategoriesById(e){return this._HttpClient.get(s.N.baseUrlData+"/categories/"+e)}getSubCategoriesToCat(e){return this._HttpClient.get(s.N.baseUrlData+`/categories/${e}/subcategories`)}sendToCart(e){return this._HttpClient.post(s.N.baseUrlData+"/cart",{productId:e})}getCartData(){return this._HttpClient.get(s.N.baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(s.N.baseUrlData+"/cart")}updatePoductCount(e,l){return this._HttpClient.put(s.N.baseUrlData+"/cart/"+e,{count:l})}deletePoductCart(e){return this._HttpClient.delete(s.N.baseUrlData+"/cart/"+e)}getBrands(e=1){return this._HttpClient.get(s.N.baseUrlData+`/brands?page=${e}`)}getBrandData(e){return this._HttpClient.get(s.N.baseUrlData+`/brands/${e}`)}setWishlist(e){return this._HttpClient.post(s.N.baseUrlData+"/wishlist",{productId:e})}removeWishlist(e){return this._HttpClient.delete(s.N.baseUrlData+`/wishlist/${e}`)}getWishlist(){return this._HttpClient.get(s.N.baseUrlData+"/wishlist")}updateWishlistItem(e){this.wishList.next(e)}updateWhishNumberSignal(e){this.whishNumberSignal.update(()=>e)}setAddresses(e){return this._HttpClient.post(s.N.baseUrlData+"/addresses",e)}getAddresses(){return this._HttpClient.get(s.N.baseUrlData+"/addresses")}removeAddresses(e){return this._HttpClient.delete(s.N.baseUrlData+`/addresses/${e}`)}static#t=this.\u0275fac=function(l){return new(l||h)(o.LFG(p.eN),o.LFG(g._W))};static#e=this.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},3674:(v,_,r)=>{r.r(_),r.d(_,{WhishlistComponent:()=>x});var o=r(6814),m=r(101),s=r(2618),p=r(2425),g=r(1651),t=r(9212),h=r(5491),c=r(2893);function e(a,u){1&a&&t._UZ(0,"i",21)}function l(a,u){if(1&a&&(t.TgZ(0,"li"),t.YNc(1,e,1,0,"i",20),t.qZA()),2&a){const i=u.$implicit,n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",i<=n.ratingsAverage)}}function E(a,u){1&a&&(t.TgZ(0,"li"),t._UZ(1,"i",22),t.qZA())}const U=a=>["/products",a],D=()=>[1,2,3,4,5];function b(a,u){if(1&a){const i=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span",7),t.NdJ("click",function(){const C=t.CHM(i).$implicit,f=t.oxw(2);return t.KtG(f.removeFromWhish(C._id))}),t._UZ(4,"i",8),t.qZA(),t.TgZ(5,"header",9),t._UZ(6,"img",10),t.TgZ(7,"h4",11),t._uU(8),t.qZA(),t.TgZ(9,"h3",12),t._uU(10),t.ALo(11,"cuttext"),t.qZA()(),t.TgZ(12,"footer",13)(13,"span",14),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"div",15)(17,"ul",16),t.YNc(18,l,2,1,"li",17)(19,E,2,0,"li",18),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.qZA()()()(),t.TgZ(22,"button",19),t.NdJ("click",function(){const C=t.CHM(i).$implicit,f=t.oxw(2);return t.KtG(f.addToCart(C._id))}),t._uU(23," + Add To Cart "),t.qZA()()()}if(2&a){const i=u.$implicit;t.xp6(5),t.Q6J("routerLink",t.VKq(15,U,i._id)),t.xp6(1),t.Q6J("src",i.imageCover,t.LSH)("alt",i.title),t.xp6(2),t.Oqu(i.category.name),t.xp6(2),t.Oqu(t.xi3(11,9,i.title,3)),t.xp6(4),t.hij(" ",t.xi3(15,12,i.price,"EGP")," "),t.xp6(4),t.Q6J("ngForOf",t.DdM(17,D)),t.xp6(1),t.Q6J("ngIf",i.ratingsAverage%1!=0),t.xp6(2),t.hij(" ",i.ratingsAverage," ")}}function O(a,u){if(1&a&&(t.TgZ(0,"section")(1,"div",2),t.YNc(2,b,24,18,"div",3),t.qZA()()),2&a){const i=t.oxw();t.xp6(2),t.Q6J("ngForOf",i.whishList)}}function T(a,u){1&a&&(t.TgZ(0,"h2",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Your WhishList Is Empty"),"..."))}let x=(()=>{class a{constructor(i,n,d){this._EcomdataService=i,this._CartService=n,this._ToastrService=d,this.whishList=[]}ngOnInit(){this._EcomdataService.getWishlist().subscribe({next:i=>{"success"===i.status&&(this.whishList=i.data,this._EcomdataService.updateWhishNumberSignal(i.data.length))}})}addToCart(i){this._CartService.addToCart(i).subscribe({next:n=>{"success"===n.status&&(this._ToastrService.success(n.message),this._CartService.updateCartNumberSignal(n.numOfCartItems))}})}removeFromWhish(i){this._EcomdataService.removeWishlist(i).subscribe({next:n=>{"success"===n.status&&(this._ToastrService.success(n.message,"",{positionClass:"toast-bottom-right"}),this.whishList=this.whishList.filter(d=>n.data.includes(d._id)),this._EcomdataService.updateWishlistItem(n.data),this._EcomdataService.updateWhishNumberSignal(this.whishList.length))}})}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(h.J),t.Y36(c.N),t.Y36(p._W))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-whishlist"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["whish",""],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-4","row-cols-xl-6","justify-content-center"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"product"],[1,"ptorcut-area","position-relative"],["role","button",1,"heart",3,"click"],[1,"fa-solid","fa-heart-crack"],["role","button",3,"routerLink"],["loading","lazy",1,"w-100",3,"src","alt"],[1,"h6","font-sm","text-main"],[1,"h6","small"],[1,"hstack","justify-content-between"],[1,"small"],[1,"d-flex","font-sm","align-items-center"],[1,"d-flex","mb-0","list-unstyled"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"add-btn","main-btn","w-100",3,"click"],["class","fas fa-star rating-color",4,"ngIf"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half","rating-color"],[1,"text-center","my-3"]],template:function(n,d){if(1&n&&t.YNc(0,O,3,1,"section",0)(1,T,3,3,"ng-template",null,1,t.W1O),2&n){const C=t.MAs(2);t.Q6J("ngIf",d.whishList.length)("ngIfElse",C)}},dependencies:[o.ez,o.sg,o.O5,o.H9,m.rH,g.r,p.Rh,s.aw,s.X$],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:99;font-size:40px;color:#0aad0a;opacity:0;transform:translateY(20px);transition:opacity 1s,transform 1s}"]})}return a})()},553:(v,_,r)=>{r.d(_,{N:()=>o});const o={baseUrlAuth:"https://ecommerce.routemisr.com/api/v1/auth",baseUrlUser:"https://ecommerce.routemisr.com/api/v1",baseUrlData:"https://ecommerce.routemisr.com/api/v1",payUrl:"https://heshamghareeb.github.io/freshcart"}}}]);