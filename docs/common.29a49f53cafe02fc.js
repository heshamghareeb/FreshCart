"use strict";(self.webpackChunkFresh_Cart=self.webpackChunkFresh_Cart||[]).push([[592],{1651:(U,v,r)=>{r.d(v,{r:()=>m});var e=r(9212);let m=(()=>{class s{transform(t,u){return t.split(" ",u).join(" ")}static#t=this.\u0275fac=function(u){return new(u||s)};static#e=this.\u0275pipe=e.Yjl({name:"cuttext",type:s,pure:!0,standalone:!0})}return s})()},4768:(U,v,r)=>{r.d(v,{e:()=>c});var e=r(8784),m=r(5619);const s_baseUrlAuth="https://ecommerce.routemisr.com/api/v1/auth";var d=r(9212),t=r(1474),u=r(101);let c=(()=>{class _{constructor(n,i){this._HttpClient=n,this._Router=i,this.userData=new m.X(null),this.saveUser()}saveUser(){const n=localStorage.getItem("_token");if(n)try{const i=(0,e.o)(n);i.name&&this.userData.next(i)}catch(i){i.message.includes("Invalid token")&&(localStorage.removeItem("_token"),this._Router.navigate(["/login"]))}}setRegister(n){return this._HttpClient.post(s_baseUrlAuth+"/signup",n)}setLogin(n){return this._HttpClient.post(s_baseUrlAuth+"/signin",n)}setForgotPassword(n){return this._HttpClient.post(s_baseUrlAuth+"/forgotPasswords",n)}setVerifyResetCode(n){return this._HttpClient.post(s_baseUrlAuth+"/verifyResetCode",n)}resetPassword(n){return this._HttpClient.put(s_baseUrlAuth+"/resetPassword",n)}setChangePassword(n){return this._HttpClient.put("https://ecommerce.routemisr.com/api/v1/users/changeMyPassword",n)}static#t=this.\u0275fac=function(i){return new(i||_)(d.LFG(t.eN),d.LFG(u.F0))};static#e=this.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},2893:(U,v,r)=>{r.d(v,{N:()=>d});var e=r(5619),m=r(9212),s=r(1474);let d=(()=>{class t{constructor(c){this._HttpClient=c,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new e.X(0)}addToCart(c){return this._HttpClient.post(this.baseUrl+"cart",{productId:c})}getCartUser(){return this._HttpClient.get(this.baseUrl+"cart")}removeCartItem(c){return this._HttpClient.delete(this.baseUrl+`cart/${c}`)}updateCartCount(c,_){return this._HttpClient.put(this.baseUrl+`cart/${c}`,{count:_})}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkOut(c,_){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${c}?url=https://github.com/heshamghareeb/freshcart`,{shippingAddress:_})}static#t=this.\u0275fac=function(_){return new(_||t)(m.LFG(s.eN))};static#e=this.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},1731:(U,v,r)=>{r.d(v,{J:()=>u});var e=r(9212),m=r(5619);const s_baseUrlData="https://ecommerce.routemisr.com/api/v1";var d=r(1474),t=r(2425);let u=(()=>{class c{constructor(a,n){this._HttpClient=a,this._ToastrService=n,this.cartNumberSignal=(0,e.tdS)(0),this.whishNumberSignal=(0,e.tdS)(0),this.whishListSignal=(0,e.tdS)([]),this.whishList=new m.X([]),this.products=[]}updateWhishSignal(a){this.whishListSignal.update(()=>a)}updateWhishNumberSignal(a){this.whishNumberSignal.update(()=>a)}updateCartNumberSignal(a){this.cartNumberSignal.update(()=>a)}getUserOrders(a){return this._HttpClient.get(s_baseUrlData+"/orders/user/"+a)}addToCart(a){this.sendToCart(a).subscribe({next:n=>{"success"===n.status&&(this._ToastrService.success(n.message),this.updateCartNumberSignal(n.numOfCartItems))}})}SetcheckOut(a,n){return this._HttpClient.post(s_baseUrlData+`/orders/checkout-session/${a}?url=https://ahmed-menisy.github.io/FreshCart`,n)}getProducts(a=1){return this._HttpClient.get(s_baseUrlData+`/products?page=${a}`)}getProductById(a){return this._HttpClient.get(s_baseUrlData+"/products/"+a)}getCategories(){return this._HttpClient.get(s_baseUrlData+"/categories")}getCategoriesById(a){return this._HttpClient.get(s_baseUrlData+"/categories/"+a)}getSubCategoriesToCat(a){return this._HttpClient.get(s_baseUrlData+`/categories/${a}/subcategories`)}sendToCart(a){return this._HttpClient.post(s_baseUrlData+"/cart",{productId:a})}getCartData(){return this._HttpClient.get(s_baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(s_baseUrlData+"/cart")}updatePoductCount(a,n){return this._HttpClient.put(s_baseUrlData+"/cart/"+a,{count:n})}deletePoductCart(a){return this._HttpClient.delete(s_baseUrlData+"/cart/"+a)}getBrands(a=1){return this._HttpClient.get(s_baseUrlData+`/brands?page=${a}`)}getBrandData(a){return this._HttpClient.get(s_baseUrlData+`/brands/${a}`)}setWishlist(a){return this._HttpClient.post(s_baseUrlData+"/wishlist",{productId:a})}removeWishlist(a){return this._HttpClient.delete(s_baseUrlData+`/wishlist/${a}`)}getWishlist(){return this._HttpClient.get(s_baseUrlData+"/wishlist")}setAddresses(a){return this._HttpClient.post(s_baseUrlData+"/addresses",a)}getAddresses(){return this._HttpClient.get(s_baseUrlData+"/addresses")}removeAddresses(a){return this._HttpClient.delete(s_baseUrlData+`/addresses/${a}`)}static#t=this.\u0275fac=function(n){return new(n||c)(e.LFG(d.eN),e.LFG(t._W))};static#e=this.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},1285:(U,v,r)=>{r.d(v,{M:()=>s});var e=r(9212),m=r(1474);let s=(()=>{class d{constructor(u){this._HttpClient=u,this.baseUrl="https://ecommerce.routemisr.com/api/v1/"}getProducts(u=1){return this._HttpClient.get(this.baseUrl+`products?page=${u}`)}getCategories(){return this._HttpClient.get(this.baseUrl+"categories")}getCategoryDetails(u){return this._HttpClient.get(this.baseUrl+`categories/${u}`)}getProductDetails(u){return this._HttpClient.get(this.baseUrl+`products/${u}`)}static#t=this.\u0275fac=function(c){return new(c||d)(e.LFG(m.eN))};static#e=this.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},5830:(U,v,r)=>{r.d(v,{A:()=>b});var e=r(6814),m=r(101),s=r(2425),d=r(1651),t=r(9212),u=r(1731);function c(o,f){if(1&o){const p=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(){t.CHM(p);const l=t.oxw();return t.KtG(l.addToWhish(l.product._id))}),t._UZ(1,"i",15),t.qZA()}}function _(o,f){if(1&o){const p=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(){t.CHM(p);const l=t.oxw();return t.KtG(l.removeFromWhish(l.product._id))}),t._UZ(1,"i",16),t.qZA()}}function a(o,f){1&o&&t._UZ(0,"i",18)}function n(o,f){if(1&o&&(t.TgZ(0,"li"),t.YNc(1,a,1,0,"i",17),t.qZA()),2&o){const p=f.$implicit,h=t.oxw();t.xp6(1),t.Q6J("ngIf",p<=h.product.ratingsAverage)}}function i(o,f){1&o&&(t.TgZ(0,"li"),t._UZ(1,"i",19),t.qZA())}const g=o=>["/productdetails",o],C=()=>[1,2,3,4,5];let b=(()=>{class o{constructor(p,h,l){this._EcomdataService=p,this._ToastrService=h,this._ChangeDetectorRef=l,this.cutTextNum=0,this.whish=[]}addToCart(p){this._EcomdataService.addToCart(p)}addToWhish(p){this._EcomdataService.setWishlist(p).subscribe({next:h=>{"success"===h.status&&(this._ToastrService.success(h.message,"",{positionClass:"toast-bottom-right"}),this._EcomdataService.updateWhishSignal(h.data),this._EcomdataService.updateWhishNumberSignal(h.data.length),this.whish=this._EcomdataService.whishListSignal())}})}removeFromWhish(p){this._EcomdataService.removeWishlist(p).subscribe({next:h=>{"success"===h.status&&(this._ToastrService.success(h.message,"",{positionClass:"toast-bottom-right"}),this._EcomdataService.updateWhishSignal(h.data),this._EcomdataService.updateWhishNumberSignal(h.data.length),this.whish=this._EcomdataService.whishListSignal())}})}static#t=this.\u0275fac=function(h){return new(h||o)(t.Y36(u.J),t.Y36(s._W),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-card"]],inputs:{product:"product",cutTextNum:"cutTextNum",whish:"whish"},standalone:!0,features:[t.jDz],decls:24,vars:20,consts:[[1,"product"],[1,"ptorcut-area","position-relative"],["role","button","class","heart",3,"click",4,"ngIf"],["role","button",3,"routerLink"],["loading","lazy",1,"w-100",3,"src","alt"],["il8n","",1,"h6","font-sm","text-main"],[1,"h6","small"],[1,"hstack","justify-content-between"],[1,"small"],[1,"d-flex","font-sm","align-items-center"],[1,"d-flex","mb-0","list-unstyled"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"add-btn","main-btn","w-100",3,"click"],["role","button",1,"heart",3,"click"],[1,"fas","fa-heart"],[1,"fa-solid","fa-heart-crack"],["class","fas fa-star rating-color",4,"ngIf"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half","rating-color"]],template:function(h,l){1&h&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1),t.YNc(3,c,2,0,"span",2)(4,_,2,0,"span",2),t.TgZ(5,"header",3),t._UZ(6,"img",4),t.TgZ(7,"h4",5),t._uU(8),t.qZA(),t.TgZ(9,"h3",6),t._uU(10),t.ALo(11,"cuttext"),t.qZA()(),t.TgZ(12,"footer",7)(13,"span",8),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"div",9)(17,"ul",10),t.YNc(18,n,2,1,"li",11)(19,i,2,0,"li",12),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.qZA()()()(),t.TgZ(22,"button",13),t.NdJ("click",function(){return l.addToCart(l.product._id)}),t._uU(23," + Add To Cart "),t.qZA()()()),2&h&&(t.xp6(3),t.Q6J("ngIf",!l.whish.includes(l.product._id)),t.xp6(1),t.Q6J("ngIf",l.whish.includes(l.product._id)),t.xp6(1),t.Q6J("routerLink",t.VKq(17,g,l.product._id)),t.xp6(1),t.Q6J("src",l.product.imageCover,t.LSH)("alt",l.product.title),t.xp6(2),t.Oqu(l.product.category.name),t.xp6(2),t.Oqu(t.xi3(11,11,l.product.title,l.cutTextNum)),t.xp6(4),t.hij(" ",t.xi3(15,14,l.product.price,"EGP")," "),t.xp6(4),t.Q6J("ngForOf",t.DdM(19,C)),t.xp6(1),t.Q6J("ngIf",l.product.ratingsAverage%1!=0),t.xp6(2),t.hij(" ",l.product.ratingsAverage," "))},dependencies:[e.ez,e.sg,e.O5,e.H9,m.rH,d.r,s.Rh],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:99;font-size:40px;color:#0aad0a;opacity:0;transform:translateY(20px);transition:opacity 1s,transform 1s}"]})}return o})()},953:(U,v,r)=>{r.d(v,{S:()=>_});var e=r(9212),m=r(6814),s=r(101),d=r(2618),t=r(4768),u=r(1731);function c(a,n){if(1&a&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",i.whishItemNumberS," ")}}let _=(()=>{class a{switchLang(i){this.translate.use(i),this.setPageDirection(this.translate.instant("DIR")),this.checkDir()}setPageDirection(i){document.documentElement.setAttribute("dir",i)}checkDir(){this.pageDirAR="rtl"==document.documentElement.getAttribute("dir"),console.log(this.pageDirAR,"this.pageDirAR")}changeLangage(i){this.document.getElementsByTagName("html")[0].dir="ar"===i?"rtl":"ltr",this.translateService.setDefaultLang(i),this.translateService.use(i),this.changeCssFile(i)}changeCssFile(i){let g=this.document.getElementsByTagName("head")[0],C=this.document.getElementById("langCss"),b="ar"===i?"arabicStyle.css":"englishStyle.css";if(C)C.href=b;else{let o=this.document.createElement("link");o.rel="stylesheet",o.type="text/css",o.id="langCss",o.href=b,g.appendChild(o)}}constructor(i,g,C,b,o,f,p,h){this.translate=i,this._AuthService=g,this._Router=C,this._Renderer2=b,this._EcomdataService=o,this.elementRef=f,this.document=p,this.translateService=h,this.pageDirAR=!1,this.whishItemNumberS=0,this.cartItemNumberS=0,this.userName="",this.checkDir(),(0,e.cEC)(()=>{this.whishItemNumberS=this._EcomdataService.whishNumberSignal()}),(0,e.cEC)(()=>{this.cartItemNumberS=this._EcomdataService.cartNumberSignal()})}ngOnInit(){this._AuthService.userData.subscribe({next:i=>{this.userName=null!==i&&i.name?i?.name?.slice(0,1).toUpperCase():"U"}}),this._Router.url.includes("cart")||this._EcomdataService.getCartData().subscribe({next:i=>{"success"===i.status&&(this._EcomdataService.updateCartNumberSignal(i.numOfCartItems),this.cartItemNumberS=this._EcomdataService.cartNumberSignal())},error:i=>{console.log("Error Cart Nav",i.error.message)}}),this._Router.url.includes("whishlist")||this._EcomdataService.getWishlist().subscribe({next:i=>{if("success"===i.status){const g=i.data.map(C=>C._id);this._EcomdataService.whishList.next(g),this._EcomdataService.updateWhishNumberSignal(i.data.length),this._EcomdataService.updateWhishSignal(g),this.whishItemNumberS=this._EcomdataService.whishNumberSignal()}}})}logOut(){localStorage.removeItem("_token"),this._AuthService.userData.next(null),this._Router.navigate(["/login"])}static#t=this.\u0275fac=function(g){return new(g||a)(e.Y36(d.sK),e.Y36(t.e),e.Y36(s.F0),e.Y36(e.Qsj),e.Y36(u.J),e.Y36(e.SBq),e.Y36(m.K0),e.Y36(d.sK))};static#e=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-navbar"]],standalone:!0,features:[e.jDz],decls:39,vars:2,consts:[[1,"navbar","shadow-sm","navbar-expand-lg","fixed-top","navbar-light","bg-light"],["navbar",""],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","./assets/images/freshcart-logo.svg","alt","freshCart"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsibleNavId","aria-controls","collapsibleNavId","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-lg-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mt-2","mt-lg-0"],[1,"nav-item"],["routerLinkActive","active-link","routerLink","/home",1,"nav-link"],["routerLinkActive","active-link","routerLink","/products",1,"nav-link"],["routerLinkActive","active-link","routerLink","/brands",1,"nav-link"],["routerLinkActive","active-link","routerLink","/categories",1,"nav-link"],[1,"navbar-nav","ms-auto","mt-2","mt-lg-0","navbar-icons"],[1,"nav-item","me-3","hstack"],["routerLink","/whishlist",1,"text-main","number-item"],[1,"fas","fa-heart","fa-2x"],["class","text-white",4,"ngIf"],["routerLink","/cart",1,"nav-link","position-relative"],[1,"fas","fa-cart-shopping","fa-2x","text-main"],[1,"badge","bg-info","position-absolute","top-0","end-0"],[1,"nav-item","d-flex","align-items-center","gap-3","me-4"],["href","https://www.facebook.com/HxBoss","target","_blank",1,"text-reset",2,"color","#4267B2 !important"],[1,"fab","fa-facebook","h4"],["target","_blank","href","https://api.whatsapp.com/send?phone=01119244463",1,"text-reset"],[1,"fab","fa-whatsapp","text-main","h4"],[1,"nav-item","ms-auto"],["role","button",1,"nav-link","h5",3,"click"],[1,"text-white"]],template:function(g,C){1&g&&(e.TgZ(0,"nav",0,1)(2,"div",2)(3,"a",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"button",5),e._UZ(6,"span",6),e.qZA(),e.TgZ(7,"div",7)(8,"ul",8)(9,"li",9)(10,"a",10),e._uU(11,"Home"),e.qZA()(),e.TgZ(12,"li",9)(13,"a",11),e._uU(14,"Products"),e.qZA()(),e.TgZ(15,"li",9)(16,"a",12),e._uU(17,"Brands"),e.qZA()(),e.TgZ(18,"li",9)(19,"a",13),e._uU(20,"Categories"),e.qZA()()(),e.TgZ(21,"ul",14)(22,"li",15)(23,"a",16),e._UZ(24,"i",17),e.YNc(25,c,2,1,"span",18),e.qZA()(),e.TgZ(26,"li",15)(27,"a",19),e._UZ(28,"i",20),e.TgZ(29,"span",21),e._uU(30),e.qZA()()(),e.TgZ(31,"li",22)(32,"a",23),e._UZ(33,"i",24),e.qZA(),e.TgZ(34,"a",25),e._UZ(35,"i",26),e.qZA()(),e.TgZ(36,"li",27)(37,"span",28),e.NdJ("click",function(){return C.logOut()}),e._uU(38,"SignOut"),e.qZA()()()()()()),2&g&&(e.xp6(25),e.Q6J("ngIf",C.whishItemNumberS),e.xp6(5),e.hij(" ",C.cartItemNumberS," "))},dependencies:[m.ez,m.O5,s.rH,s.Od,d.aw],styles:[".navbar[_ngcontent-%COMP%]{transition:padding 1s}.number-item[_ngcontent-%COMP%]{position:relative}.number-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;bottom:18%;left:36%;color:#343a40;z-index:10;font-weight:900}.nav-icons[_ngcontent-%COMP%]{font-size:25px}.flag-icon[_ngcontent-%COMP%]{width:25px;height:25px}.dropdown-item[_ngcontent-%COMP%]:focus, .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#055d0a!important;color:#fff!important}.dropdown-item[_ngcontent-%COMP%]{transition:1s!important;padding:4px!important;-webkit-transition:1s!important;-moz-transition:1s!important;-ms-transition:1s!important;-o-transition:1s!important}.dropdown-menu[_ngcontent-%COMP%]{padding:3px!important;text-align:center}.dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{left:-124%!important}@media only screen and (min-width: 320px) and (max-width: 992px){.navbar-icons[_ngcontent-%COMP%]{flex-direction:row}}"]})}return a})()}}]);